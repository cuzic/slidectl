# VERIFY Phase - 品質確認

TDDサイクルの VERIFY フェーズ：実装の品質を総合的に検証します。

## このフェーズで行うこと

1. **テスト実行**
   - すべてのテストを実行
   - 失敗するテストがないことを確認
   - テスト出力を確認

2. **コード品質チェック**
   - Linter実行（ruff）
   - Formatter確認（black）
   - 型チェック（mypy）

3. **カバレッジ確認**
   - テストカバレッジを測定
   - カバレッジが十分か確認（目標80%以上）
   - 未カバー箇所を特定

4. **エッジケースの検討**
   - テストされていないケースがないか確認
   - 必要に応じて追加のテストを作成

5. **統合テスト（必要に応じて）**
   - 他のモジュールとの連携を確認
   - E2Eテストを実行

## チェックリスト

### テスト
- [ ] `mise run test` を実行
- [ ] すべてのテストがパス
- [ ] テスト出力にwarningがない
- [ ] カバレッジが80%以上

### コード品質
- [ ] `mise run lint` を実行
- [ ] ruffエラーがない
- [ ] blackフォーマットが適用されている
- [ ] mypyエラーがない

### エッジケース
- [ ] 正常系のテストがある
- [ ] 異常系のテストがある
- [ ] 境界値のテストがある
- [ ] エラーハンドリングのテストがある

## コマンド例

```bash
# すべてのテストを実行
mise run test

# カバレッジ付きテスト
uv run pytest tests/ -v --cov=src/slidectl --cov-report=term-missing

# Linter実行
mise run lint

# 個別チェック
uv run ruff check src/
uv run black --check src/
uv run mypy src/
```

## カバレッジ例

```
---------- coverage: platform linux, python 3.11.9 -----------
Name                              Stmts   Miss  Cover   Missing
---------------------------------------------------------------
src/slidectl/__init__.py              2      0   100%
src/slidectl/workspace.py            45      3    93%   67-69
src/slidectl/config.py               38      2    95%   45, 52
---------------------------------------------------------------
TOTAL                                85      5    94%
```

## 問題があった場合

- **テスト失敗**: GREEN フェーズに戻って修正
- **Lintエラー**: REFACTOR フェーズに戻って修正
- **カバレッジ不足**: RED フェーズに戻って追加テストを作成
- **型エラー**: REFACTOR フェーズに戻って型ヒント修正

## 次のステップ

すべての検証をパスしたら、DOCUMENT フェーズ（ドキュメント化）に進みます。
